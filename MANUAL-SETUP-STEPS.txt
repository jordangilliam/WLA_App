==============================================
MANUAL SETUP - COPY AND PASTE THESE STEPS
==============================================

STEP 1: Create .env.local File
-------------------------------

1. Create a new file called ".env.local" in your project root

2. Copy EVERYTHING from YOUR-STRIPE-KEYS.txt into .env.local

3. Add these Supabase lines at the end:

   (Get your values from: https://supabase.com/dashboard -> WildPraxis -> Settings -> API)

   NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ_YOUR_ANON_KEY_HERE
   SUPABASE_SERVICE_ROLE_KEY=eyJ_YOUR_SERVICE_ROLE_KEY_HERE

4. Add these NextAuth lines at the end:

   NEXTAUTH_URL=http://localhost:3000
   NEXTAUTH_SECRET=tR3N7Arb+tYrgbKvH7Z/t3a8BZ/MtNPmI8BuhwhSNvQ=

5. Add these app config lines at the end:

   NEXT_PUBLIC_APP_VERSION=1.0.0
   NODE_ENV=development


STEP 2: Run SQL Migration in Supabase
--------------------------------------

1. Go to: https://supabase.com/dashboard
2. Select: WildPraxis project
3. Click: SQL Editor (left sidebar)
4. Click: New query
5. Copy and paste this SQL:

ALTER TABLE organizations ADD COLUMN IF NOT EXISTS stripe_customer_id TEXT;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_id TEXT;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_status TEXT CHECK (subscription_status IN ('trialing', 'active', 'past_due', 'canceled', 'incomplete', 'incomplete_expired', 'unpaid'));
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_plan TEXT;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_current_period_start TIMESTAMP WITH TIME ZONE;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_current_period_end TIMESTAMP WITH TIME ZONE;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS subscription_canceled_at TIMESTAMP WITH TIME ZONE;
ALTER TABLE organizations ADD COLUMN IF NOT EXISTS max_students INTEGER;
CREATE INDEX IF NOT EXISTS idx_organizations_stripe_customer ON organizations(stripe_customer_id);
CREATE INDEX IF NOT EXISTS idx_organizations_subscription ON organizations(subscription_id);
CREATE INDEX IF NOT EXISTS idx_organizations_subscription_status ON organizations(subscription_status);
ALTER TABLE organization_users ADD COLUMN IF NOT EXISTS invited_by UUID REFERENCES users(id);
ALTER TABLE organization_users ADD COLUMN IF NOT EXISTS invited_at TIMESTAMP WITH TIME ZONE;

6. Click: Run (or press Ctrl+Enter)
7. You should see: "Success. No rows returned"


STEP 3: Test Your Setup
------------------------

1. Open PowerShell in your project folder

2. Run:
   .\node-portable\npm.cmd run dev

3. Open browser to:
   http://localhost:3000/admin/dashboard

4. Try to subscribe using test card:
   Card: 4242 4242 4242 4242
   Exp: 12/34
   CVC: 123
   ZIP: 12345

5. If checkout page opens -> SUCCESS!


THAT'S IT!
----------
Three simple steps and you're done!

==============================================

