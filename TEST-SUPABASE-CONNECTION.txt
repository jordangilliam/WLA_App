==============================================
TEST YOUR SUPABASE CONNECTION
==============================================

Let's verify your Supabase is configured correctly.


STEP 1: Verify Supabase Project URL
------------------------------------
Your Supabase URL: https://vaqcsbneypmdhrqnnjph.supabase.co

1. Go to: https://supabase.com/dashboard/projects

2. Find project: vaqcsbneypmdhrqnnjph

3. Click on it

4. Verify the URL matches


STEP 2: Check Your Keys
------------------------
1. In Supabase Dashboard, go to:
   Project Settings → API

2. You should see:
   - Project URL (should match: https://vaqcsbneypmdhrqnnjph.supabase.co)
   - anon/public key (starts with: eyJ...)
   - service_role key (starts with: eyJ...)

3. Copy these keys to your .env.local file:
   NEXT_PUBLIC_SUPABASE_URL=https://vaqcsbneypmdhrqnnjph.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
   SUPABASE_SERVICE_ROLE_KEY=eyJ...


STEP 3: Verify Database Tables Exist
-------------------------------------
1. In Supabase Dashboard, go to:
   Table Editor (left sidebar)

2. You should see these tables:
   ✓ users
   ✓ organizations
   ✓ organization_users
   ✓ classes
   ✓ class_enrollments

3. If tables are MISSING, run the SQL:
   - Go to SQL Editor (left sidebar)
   - Click "New Query"
   - Paste contents of: lib/db/STEP1-base-tables.sql
   - Click "Run"


STEP 4: Test Connection via SQL
--------------------------------
In Supabase SQL Editor, run:

SELECT version();

Should return PostgreSQL version.

Then run:

SELECT COUNT(*) FROM users;

Should return a number (even if 0).


STEP 5: Check for Errors
-------------------------
In Supabase Dashboard:
- Logs → Database
- Look for any error messages


COMMON ISSUES:
==============

Issue 1: Wrong Project
-----------------------
Make sure you're in the WildPraxis project:
https://supabase.com/dashboard/project/vaqcsbneypmdhrqnnjph


Issue 2: Wrong Keys
--------------------
Make sure you copied the FULL keys:
- anon key: 200+ characters (starts eyJ...)
- service_role key: 200+ characters (starts eyJ...)


Issue 3: Missing Tables
------------------------
If tables don't exist, run:
lib/db/STEP1-base-tables.sql


Issue 4: RLS Policies Blocking
-------------------------------
If queries return empty (but tables exist):
- Go to Authentication → Policies
- Check if RLS is enabled
- Disable RLS for testing (temporarily)


QUICK TEST:
===========
1. Verify URL matches
2. Verify keys are correct and FULL length
3. Verify tables exist
4. Run: SELECT COUNT(*) FROM users;

==============================================

